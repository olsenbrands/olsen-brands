# OlsenBrands Employee Backend â€” Build Progress
**Last Updated:** 2026-02-27  
**Status:** ðŸŸ¢ Phase 3 Built â€” HQ Employees Admin Hub Live

---

## Open Questions
- [x] Employee identification method â†’ **Name + email only, no account** âœ…
- [x] Re-signing behavior when policy updated â†’ **Yes, email employees + flag in HQ** âœ…
- [x] Admin notifications â†’ **Email + HQ backend dashboard** âœ…
- [x] Notify employees who haven't filled out yet â†’ **Yes** âœ…
- [x] Admin role scope â†’ **Jordan + Jennifer only for now** âœ…
- [x] Language support â†’ **English only** âœ…
- [ ] Document expiration tracking â†’ Deferred to Phase 5

---

## Phase 1 â€” Foundation (Database + Seed Data)
> Goal: All tables exist in Supabase, 7 businesses seeded, initial document type created.

- [x] Create `businesses` table âœ…
- [x] Create `employees` table âœ…
- [x] Create `employee_businesses` table âœ…
- [x] Create `document_types` table âœ…
- [x] Create `business_document_requirements` table âœ…
- [x] Create `employee_documents` table âœ…
- [x] Create Supabase Storage bucket (`employee-documents`, private) âœ…
- [x] Seed 7 businesses (Wedgie's, 3x Subway, 3x FiiZ) âœ…
- [x] Create "Employee Policy Acknowledgment" document type âœ…
- [x] Store Wedgie's Employee Policy v1.0 content in document_types âœ…

---

## Phase 2 â€” Wedgie's Onboarding Page (Proof of Concept)
> Goal: An employee can visit /wedgies/onboarding, sign the policy, and their record is saved.

- [x] Create `/[business-slug]/onboarding` dynamic route âœ…
- [x] Build employee identification step (name + email form) âœ…
- [x] Build onboarding checklist UI (shows required docs for that business) âœ…
- [x] Build policy viewer component (scrollable full text) âœ…
- [x] Integrate `react-signature-canvas` signature pad âœ…
- [x] PDF generation on submission (`@react-pdf/renderer`) âœ…
- [x] Upload signature PNG to Supabase Storage âœ…
- [x] Upload generated PDF to Supabase Storage âœ…
- [x] Save `employee_documents` record to Supabase âœ…
- [x] Save/upsert `employees` record âœ…
- [x] Save/upsert `employee_businesses` record âœ…
- [x] Build success/confirmation screen with PDF download link âœ…
- [ ] Send confirmation email to employee on completion (Phase 4 â€” Brevo)
- [x] Mobile-first responsive design âœ…
- [ ] Test on actual phone â† NEXT

---

## Phase 3 â€” HQ Admin Hub
> Goal: Jordan can visit /hq/employees and see all signed documents across all businesses.

- [x] Create `/hq/employees` route (protected) âœ…
- [x] Employee list table with columns: name, business(es), completion status, date âœ…
- [x] Filter by business dropdown âœ…
- [x] Filter by document status (complete / missing items / pending) âœ…
- [x] Search by employee name âœ…
- [x] Employee detail view (`/hq/employees/[id]`) âœ…
- [x] Document list per employee with status badges âœ…
- [x] PDF download button per document (fresh signed URL, 1hr) âœ…
- [x] File preview for uploads (permits, IDs) âœ…
- [x] IP address audit trail on employee detail âœ…
- [ ] "Missing documents" alert â€” incomplete employees flagged with count on HQ dashboard
- [ ] Business management page (`/hq/businesses`) â€” view/add/edit businesses
- [ ] Document types management page (`/hq/documents`) â€” view/add/edit doc types
- [ ] "Send reminder" button â€” manually trigger reminder email to employee with outstanding docs
- [ ] Policy version management â€” when policy updates, flag all prior signers as needing re-sign
- [ ] Re-sign notification email â€” sent to employees when a new policy version is published

---

## Phase 4 â€” Multi-Business Expansion
> Goal: All 7 businesses have working onboarding pages.

- [ ] Verify dynamic routing works for all 7 business slugs
- [ ] Test FiiZ onboarding flow end-to-end
- [ ] Test Subway onboarding flow end-to-end
- [ ] Admin notification on employee onboarding completion
- [ ] Assign correct document requirements per business in DB
- [ ] Verify admin hub shows all 7 businesses correctly

---

## Phase 5 â€” Advanced Features (Future)
> These are not scheduled â€” capture for later.

- [ ] Document expiration tracking (food handler permits)
- [ ] Expiration reminder emails/texts to employees
- [ ] Employee email notifications on completion
- [ ] Additional document types: Food Handler Permit, ID Upload, Emergency Contact, I-9, W-4
- [ ] Policy versioning â€” re-sign flow when policy updates
- [ ] Manager-level access (location-scoped)
- [ ] Spanish language support
- [ ] Bulk export of all documents (zip download)
- [ ] Reporting dashboard (completion rates per business, trend over time)

---

## Completed
*(Nothing yet â€” build hasn't started)*

---

## Notes & Decisions Log
| Date | Decision | Notes |
|------|----------|-------|
| 2026-02-24 | PRD created | Open questions resolved same session |
| 2026-02-24 | Employee auth | Name + email only â€” no accounts |
| 2026-02-24 | Notifications | Email to employees + HQ dashboard for admins |
| 2026-02-24 | Admin scope | Jordan + Jennifer only for now |
| 2026-02-24 | Language | English only |
| 2026-02-24 | Expiration tracking | Deferred to Phase 5 |
| 2026-02-24 | Email service | Brevo (Jordan already has account) |
| 2026-02-24 | Admin users | Jordan (jordan@olsenbrands.com) + Jennifer (jennifer@olsenbrands.com) |
| 2026-02-24 | Phase 1 complete | 6 tables created, storage bucket live, 7 businesses seeded, policy v1.0 loaded |
| 2026-02-28 | Phase 2 complete | Onboarding page built: identity â†’ sign â†’ confirm. Signature PNG + PDF saved to Supabase Storage. Merged to main. |
